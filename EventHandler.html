<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>EventHandler in JS</title>
<script>
    function addEventHandler(oNode, sEvent, fFunc, bCaptures){
            if (typeof(window.event) != "undefined")
            oNode.attachEvent("on" + sEvent, fFunc);
            else
            oNode.addEventListener(sEvent, fFunc, bCaptures);
    }

    function removeEventHandler(oNode, sEvent, fFunc, bCaptures){
            if (typeof(window.event) != "undefined")
            oNode.detachEvent("on" + sEvent, fFunc);
            else
            oNode.removeEventListener(sEvent, fFunc, bCaptures);
    }

        function getEventTarget(e){
            if (window.event != null)
                return window.event.srcElement;
            else
            return e.target;
        }

    function onClickedfunc(e){
        alert(" You clicked the link on the page ");
    }

    function onEnableClickfunc(e){
        var target = getEventTarget(e);
        if(target.checked)
            addEventHandler(document.getElementById("clickLink"), "click", onClickedfunc, false);
        else
        removeEventHandler(document.getElementById("clickLink"), "click", onClickedfunc, false);
    }

    function setUpClickEventfunc(e){
        addEventHandler(document.getElementById("Checkbox1"), "click", onEnableClickfunc, false);
    }

    addEventHandler(window, "load", setUpClickEventfunc, false );
</script>
</head>
<body>
        <a href="#" title="click me" id="clickLink">Click Me!</a>

        <p>
                <input id="Checkbox1" type="checkbox" />Enable click events
        </p>
</body>
</html>
